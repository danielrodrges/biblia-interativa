(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{1976:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},2009:(e,a,t)=>{"use strict";t.d(a,{SF:()=>s,lX:()=>o,qO:()=>l,t4:()=>i});let r="biblia-multilingue-preferences",n={nativeLanguage:null,learningLanguage:null,nativeVersion:null,learningVersion:null,fontSize:"medium",readingMode:"both",lastReading:null,onboardingCompleted:!1};function o(){try{let e=localStorage.getItem(r);if(e)return{...n,...JSON.parse(e)}}catch(e){console.error("Erro ao carregar prefer\xeancias:",e)}return n}function s(e){try{let a={...o(),...e};localStorage.setItem(r,JSON.stringify(a))}catch(e){console.error("Erro ao salvar prefer\xeancias:",e)}}function l(){try{localStorage.removeItem(r)}catch(e){console.error("Erro ao limpar prefer\xeancias:",e)}}function i(e){switch(e){case"small":return"text-base";case"medium":default:return"text-lg";case"large":return"text-xl"}}},2099:(e,a,t)=>{"use strict";t.d(a,{$G:()=>c,G6:()=>h,HW:()=>d,ND:()=>i,Ru:()=>u,bk:()=>g,xw:()=>x,zo:()=>m});var r=t(4030),n=t(9509);let o=n.env.NEXT_PUBLIC_SUPABASE_URL||"",s=n.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",l=o&&s&&o.startsWith("https://")&&o.includes(".supabase.co")&&s.length>20;l||(console.warn("⚠️ Vari\xe1veis de ambiente do Supabase n\xe3o configuradas ou inv\xe1lidas."),console.warn("\uD83D\uDCDD Configure NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY"),console.warn("\uD83D\uDD17 Acesse: Configura\xe7\xf5es do Projeto → Integra\xe7\xf5es → Conectar Supabase"));let i=l?(0,r.UU)(o,s,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}):null;function c(){return l&&null!==i}async function d(){if(!c()||!i)return null;try{let{data:{session:e},error:a}=await i.auth.getSession();if(a)return null;return(null==e?void 0:e.user)||null}catch(e){return null}}async function u(e,a){if(!c()||!i)throw Error("Supabase n\xe3o est\xe1 configurado. Configure as vari\xe1veis de ambiente.");let{data:t,error:r}=await i.auth.signInWithPassword({email:e,password:a});if(r)throw console.error("Erro ao fazer login:",r),r;return t}async function g(e,a,t){if(!c()||!i)throw Error("Supabase n\xe3o est\xe1 configurado. Configure as vari\xe1veis de ambiente.");let{data:r,error:n}=await i.auth.signUp({email:e,password:a,options:{data:{full_name:t},emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if(n)throw console.error("Erro ao criar conta:",n),n;return r}async function h(){if(!c()||!i)throw Error("Supabase n\xe3o est\xe1 configurado. Configure as vari\xe1veis de ambiente.");let{data:e,error:a}=await i.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(a)throw console.error("Erro ao fazer login com Google:",a),a;return e}async function m(){if(!c()||!i)throw Error("Supabase n\xe3o est\xe1 configurado. Configure as vari\xe1veis de ambiente.");let{data:e,error:a}=await i.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(a)throw console.error("Erro ao fazer login com Facebook:",a),a;return e}async function x(e){if(!c()||!i)throw Error("Supabase n\xe3o est\xe1 configurado. Configure as vari\xe1veis de ambiente.");let{data:a,error:t}=await i.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password")});if(t)throw console.error("Erro ao resetar senha:",t),t;return a}},2355:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3052:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5074:(e,a,t)=>{Promise.resolve().then(t.bind(t,9811))},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},9811:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>k});var r=t(5155),n=t(2115),o=t(5695),s=t(2355),l=t(7835),i=t(5040),c=t(1976),d=t(9946);let u=(0,d.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),g=(0,d.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var h=t(3052),m=t(2009),x=t(1676),v=t(4030),b=t(2099),p=t(9509);let f=null;function y(){if(!(0,b.$G)())return console.log("⚠️ Supabase n\xe3o configurado - usando dados locais"),null;if(f)return f;let e=p.env.NEXT_PUBLIC_SUPABASE_URL,a=p.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!e||!a)return console.warn("⚠️ Vari\xe1veis de ambiente do Supabase n\xe3o configuradas"),null;if(!e.startsWith("https://")||!e.includes(".supabase.co"))return console.warn("⚠️ URL do Supabase inv\xe1lida"),null;if(a.length<20)return console.warn("⚠️ Chave do Supabase inv\xe1lida"),null;try{return f=(0,v.UU)(e,a),console.log("✅ Cliente Supabase criado com sucesso"),f}catch(e){return console.error("❌ Erro ao criar cliente Supabase:",e),null}}async function N(e,a,t,r){if(!(0,b.$G)())return console.log("\uD83D\uDCD6 Supabase n\xe3o configurado - usando dados locais"),[];let n=y();if(!n)return console.log("\uD83D\uDCD6 Cliente Supabase n\xe3o dispon\xedvel - usando dados locais"),[];try{let o=function(e){let a=e.toLowerCase();return a.includes("-")?a.split("-")[0]:a}(e);console.log("\uD83D\uDD0D Buscando vers\xedculos:",{lang:o,versionId:a,bookId:t,chapter:r});let{data:s,error:l}=await n.from("bible_verses").select("*").eq("book",t).eq("chapter",r).eq("version",a).ilike("language","".concat(o,"%")).order("verse",{ascending:!0});if(l)return console.error("❌ Erro ao buscar do Supabase:",l),[];if(!s||0===s.length)return console.log("\uD83D\uDCED Nenhum vers\xedculo encontrado no Supabase"),[];console.log("✅ ".concat(s.length," vers\xedculos encontrados no Supabase"));let i=new Map;return s.forEach(e=>{i.has(e.verse)||i.set(e.verse,e)}),Array.from(i.values()).map(e=>({book:e.book,chapter:e.chapter,verse:e.verse,text:e.text,version:e.version,language:e.language}))}catch(e){return console.error("❌ Erro ao buscar cap\xedtulo:",e),[]}}async function w(e,a,t,r,n,o){if(!(0,b.$G)())return console.log("\uD83D\uDCD6 Supabase n\xe3o configurado - usando dados locais"),[];if(!y())return console.log("\uD83D\uDCD6 Cliente Supabase n\xe3o dispon\xedvel - usando dados locais"),[];try{console.log("\uD83D\uDD0D Buscando cap\xedtulo bil\xedngue:",{nativeLanguage:e,nativeVersion:a,learningLanguage:t,learningVersion:r,bookId:n,chapter:o});let[s,l]=await Promise.all([N(e,a,n,o),N(t,r,n,o)]);if(console.log("\uD83D\uDCCA Vers\xedculos nativos: ".concat(s.length)),console.log("\uD83D\uDCCA Vers\xedculos de aprendizado: ".concat(l.length)),0===s.length||0===l.length)return console.log("⚠️ Um dos idiomas n\xe3o tem vers\xedculos dispon\xedveis"),[];let i=[];for(let e of s){let a=l.find(a=>a.verse===e.verse);a&&i.push({native:e,learning:a})}return console.log("✅ ".concat(i.length," vers\xedculos bil\xedngues combinados")),i}catch(e){return console.error("❌ Erro ao buscar cap\xedtulo bil\xedngue:",e),[]}}var j=t(6398);function k(){var e,a,t;let d=(0,o.useRouter)(),[v,b]=(0,n.useState)(null),[p,f]=(0,n.useState)("both"),[y,k]=(0,n.useState)("JOH"),[S,_]=(0,n.useState)(1),[A,E]=(0,n.useState)(!1),[C,L]=(0,n.useState)([]),[U,I]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=(0,m.lX)();if(!e.onboardingCompleted)return void d.push("/onboarding");if(b(e),f(e.readingMode),e.lastReading){let a=j.xo.find(a=>{var t,r;return a.names["pt-BR"]===(null==(t=e.lastReading)?void 0:t.book)||a.book_id===(null==(r=e.lastReading)?void 0:r.book)});a&&(k(a.book_id),_(e.lastReading.chapter||1))}},[d]),(0,n.useEffect)(()=>{v&&P()},[v,y,S,p]);let P=async()=>{var e,a,t,r;if(!v)return;I(!0);let n=(null==(e=v.nativeLanguage)?void 0:e.code)||"pt-BR",o=(null==(a=v.nativeVersion)?void 0:a.abbreviation)||"NVI",s=(null==(t=v.learningLanguage)?void 0:t.code)||"en-US",l=(null==(r=v.learningVersion)?void 0:r.abbreviation)||"NIV";try{let e=[];if("both"===p){let a=await w(n,o,s,l,y,S);e=a.length>0?a:(0,x.e9)(n,o,s,l,y,S)}else if("native"===p){let a=await N(n,o,y,S);e=a.length>0?a.map(e=>({native:e})):(0,x.QI)(n,o,y,S).map(e=>({native:e}))}else{let a=await N(s,l,y,S);e=a.length>0?a.map(e=>({learning:e})):(0,x.QI)(s,l,y,S).map(e=>({learning:e}))}L(e)}catch(e){console.error("Erro ao carregar vers\xedculos:",e),L([])}finally{I(!1)}(0,m.SF)({lastReading:{book:y,chapter:S}})};if(!v)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})});let R=(0,m.t4)(v.fontSize),B=(0,j.Tv)(y,(null==(e=v.nativeLanguage)?void 0:e.code)||"pt-BR");return(0,r.jsxs)("div",{className:"min-h-screen bg-white pb-20",children:[(0,r.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("button",{onClick:()=>d.push("/inicio"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(s.A,{className:"w-6 h-6 text-gray-600"})}),(0,r.jsx)("button",{onClick:()=>E(!A),className:"flex-1 mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-gray-800",children:[B," ",S]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[null==(a=v.nativeVersion)?void 0:a.abbreviation," / ",null==(t=v.learningVersion)?void 0:t.abbreviation]})]})}),(0,r.jsx)("button",{onClick:()=>{let e=["native","learning","both"],a=e.indexOf(p),t=e[(a+1)%e.length];f(t),(0,m.SF)({readingMode:t})},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(l.A,{className:"w-6 h-6 text-blue-500"})})]}),(0,r.jsx)("div",{className:"bg-blue-50 rounded-lg px-3 py-2 text-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-blue-700",children:(()=>{var e,a;switch(p){case"native":return(null==v||null==(e=v.nativeLanguage)?void 0:e.name)||"Idioma nativo";case"learning":return(null==v||null==(a=v.learningLanguage)?void 0:a.name)||"Idioma de estudo";case"both":return"Dois idiomas"}})()})})]})}),A&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-20 flex items-end",children:(0,r.jsxs)("div",{className:"bg-white rounded-t-3xl w-full max-h-[70vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Escolher livro"}),(0,r.jsx)("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h4",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:"Antigo Testamento"}),(0,r.jsx)("div",{className:"space-y-2",children:j.xo.filter(e=>"old"===e.testament).map(e=>{var a;return(0,r.jsxs)("button",{onClick:()=>{k(e.book_id),_(1),E(!1)},className:"w-full text-left p-4 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("div",{className:"font-medium text-gray-800",children:(0,j.Tv)(e.book_id,(null==(a=v.nativeLanguage)?void 0:a.code)||"pt-BR")}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.total_chapters," cap\xedtulos"]})]},e.book_id)})})]}),(0,r.jsxs)("div",{className:"p-6 pt-0",children:[(0,r.jsx)("h4",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:"Novo Testamento"}),(0,r.jsx)("div",{className:"space-y-2",children:j.xo.filter(e=>"new"===e.testament).map(e=>{var a;return(0,r.jsxs)("button",{onClick:()=>{k(e.book_id),_(1),E(!1)},className:"w-full text-left p-4 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("div",{className:"font-medium text-gray-800",children:(0,j.Tv)(e.book_id,(null==(a=v.nativeLanguage)?void 0:a.code)||"pt-BR")}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.total_chapters," cap\xedtulos"]})]},e.book_id)})})]})]})}),(0,r.jsx)("div",{className:"max-w-lg mx-auto px-6 py-6",children:U?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Carregando cap\xedtulo..."})]}):0===C.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(i.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 mb-2",children:"Este cap\xedtulo n\xe3o est\xe1 dispon\xedvel no momento"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Tente outro cap\xedtulo ou livro"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"space-y-6 mb-8",children:C.map((e,a)=>{let t=e.native,n=e.learning,o=(null==t?void 0:t.verse)||(null==n?void 0:n.verse);return(0,r.jsxs)("div",{className:"group",children:["both"===p&&t&&n&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-blue-600",children:t.verse}),(0,r.jsx)("p",{className:"".concat(R," text-gray-800 leading-relaxed"),children:t.text})]}),(0,r.jsxs)("div",{className:"space-y-1 border-l-2 border-gray-200 pl-3",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-amber-600",children:n.verse}),(0,r.jsx)("p",{className:"".concat(R," text-gray-700 leading-relaxed"),children:n.text})]})]}),"native"===p&&t&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-blue-600 mr-2",children:t.verse}),(0,r.jsx)("p",{className:"".concat(R," text-gray-800 leading-relaxed inline"),children:t.text})]}),"learning"===p&&n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-amber-600 mr-2",children:n.verse}),(0,r.jsx)("p",{className:"".concat(R," text-gray-800 leading-relaxed inline"),children:n.text})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(c.A,{className:"w-5 h-5 text-gray-400"})}),(0,r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(u,{className:"w-5 h-5 text-gray-400"})}),(0,r.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(g,{className:"w-5 h-5 text-gray-400"})})]})]},"verse-".concat(o,"-").concat(a))})}),(0,r.jsxs)("div",{className:"flex items-center justify-between py-6 border-t border-gray-200",children:[(0,r.jsxs)("button",{onClick:()=>{if(S>1)_(S-1);else{let e=j.xo.findIndex(e=>e.book_id===y);if(e>0){let a=j.xo[e-1];k(a.book_id),_(a.total_chapters)}}},disabled:!(S>1||j.xo.findIndex(e=>e.book_id===y)>0),className:"flex items-center gap-2 px-6 py-3 bg-gray-100 rounded-xl font-medium text-gray-700 hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(s.A,{className:"w-5 h-5"}),"Anterior"]}),(0,r.jsxs)("button",{onClick:()=>{let e=j.xo.find(e=>e.book_id===y);if(e)if(S<e.total_chapters)_(S+1);else{let e=j.xo.findIndex(e=>e.book_id===y);e<j.xo.length-1&&(k(j.xo[e+1].book_id),_(1))}},disabled:!(()=>{let e=j.xo.find(e=>e.book_id===y);return!!e&&(S<e.total_chapters||j.xo.findIndex(e=>e.book_id===y)<j.xo.length-1)})(),className:"flex items-center gap-2 px-6 py-3 bg-blue-500 rounded-xl font-medium text-white hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Pr\xf3ximo",(0,r.jsx)(h.A,{className:"w-5 h-5"})]})]})]})})]})}},9946:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(2115);let n=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},o=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...g}=e;return(0,r.createElement)("svg",{ref:a,...s,width:n,height:n,stroke:t,strokeWidth:i?24*Number(l)/Number(n):l,className:o("lucide",c),...!d&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(g)&&{"aria-hidden":"true"},...g},[...u.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(d)?d:[d]])}),i=(e,a)=>{let t=(0,r.forwardRef)((t,s)=>{let{className:i,...c}=t;return(0,r.createElement)(l,{ref:s,iconNode:a,className:o("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return t.displayName=n(e),t}}},e=>{e.O(0,[30,626,441,964,358],()=>e(e.s=5074)),_N_E=e.O()}]);